package com.Mailservice;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.mail.javamail.JavaMailSender;
import org.springframework.mail.javamail.MimeMessageHelper;
import org.springframework.stereotype.Service;

import jakarta.mail.MessagingException;
import jakarta.mail.internet.MimeMessage;

@Service
public class Mailsenderservice {
	
	
	@Autowired
	private JavaMailSender sender;
	
	
	public String sendemail(String to,String Subject, String Body )
	{
		  MimeMessage message = sender.createMimeMessage();
		  try {
	            MimeMessageHelper helper = new MimeMessageHelper(message, true);
	            helper.setFrom("cranddsysggs@gmail.com");
	            helper.setTo(to);
	            helper.setSubject(Subject);
	            helper.setText(Body, true); // true indicates HTML content, use false for plain text

	            // Send email
	            sender.send(message);
	            System.out.println("Email sent successfully.");
	            return "mail sent sucessfully !";
	        } catch (MessagingException e) {
	            e.printStackTrace();
	        }
	    }
	}

}}
